<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Numerology calculator</title>
    <link rel="stylesheet" type="text/css" href="./Numerology calculator_files/app.css">
</head>

<body>
    <header>
        <h1>Pythagoras and Chaldean Calculator</h1>
    </header>
    <div class="nav">
        <h3>Convert Words To Numbers</h3>
        <p>Enter The Name:</p>
        <div class="content">
            <input type="text" id="nameInput">
            <button onclick="calculate()">Calculate</button>
            <div class="result">
                <div class="result-text">Pythagoras 0</div>
                <div class="result-text">Chaldean 0</div>
            </div>
        </div>
    </div>

    <script>
        var PYTHAGOREAN = {
            'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5, 'f': 6, 'g': 7, 'h': 8, 'i': 9,
            'j': 1, 'k': 2, 'l': 3, 'm': 4, 'n': 5, 'o': 6, 'p': 7, 'q': 8, 'r': 9,
            's': 1, 't': 2, 'u': 3, 'v': 4, 'w': 5, 'x': 6, 'y': 7, 'z': 8
        };

        var CHALDEAN = {
            'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5, 'f': 8, 'g': 3, 'h': 5, 'i': 1,
            'j': 1, 'k': 2, 'l': 3, 'm': 4, 'n': 5, 'o': 7, 'p': 8, 'q': 1, 'r': 2,
            's': 3, 't': 4, 'u': 6, 'v': 6, 'w': 6, 'x': 5, 'y': 1, 'z': 7
        };

        // Set up HTML elements
        var input = document.querySelector('input');
        var button = document.querySelector('button');
        var result = document.querySelector('.result');

        // Add an event listener for the Enter key
        input.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                calculate();
            }
        });

        // Calculate function
        function calculate() {
            // Empty HTML
            result.innerHTML = '';

            // Print results
            printResult(PYTHAGOREAN, 'Pythagoras');
            printResult(CHALDEAN, 'Chaldean');
        }

        // Function to reduce a number to a single digit
        function reduceToSingleDigit(number) {
            while (number > 9) {
                number = number.toString().split('').reduce(function(acc, digit) {
                    return acc + parseInt(digit);
                }, 0);
            }
            return number;
        }

        // Print list
        function printResult(list, text) {
            var letters = input.value.toLowerCase().replace(/[^0-9a-z]/g, '').split('');
            var sum = 0, l, i;
            for (i = 0; i < letters.length; i++) {
                // Extract letter from array
                l = letters[i];

                // Lookup or convert letter and add to sum
                sum += list[l] || parseInt(l);
            }

            // Reduce to single digit if sum is two digits
            var reducedSum = reduceToSingleDigit(sum);

            // Write the sum to screen
            result.innerHTML += '<div class="result-text">' + text + ' ' + sum + 
                                (sum > 9 ? ' / ' + reducedSum : '') + '</div>';
        }

    </script>
</body>
</html>
